<!DOCTYPE html>
<head>
    <%- include("./partials/header.ejs") %>
    <%- include("./css/indexStyle.ejs") %>
</head>
<html>
    <body>
        <%- include("./partials/navBar.ejs") %>
        <div class="homepage">
            <h1 class="homepage__title">Home page</h1>
            <div class="homepage__blog-list">
                <% for (let i = 0; i < post.length; i++) { %>
                    <div class="homepage__blog-list--item">
                        <a href="<%= `/p/${post[i]._id}` %>" class="item__title"><%= post[i].title %></a>
                        <p class="item__description"><%= post[i].description %></p>
                        <p class="item__date"><i class="far fa-calendar"></i> <%= new Date(post[i].createdAt).toLocaleDateString("en-us", { year: "numeric", month: "short", day: "numeric"}) %></p>
                    </div>
                <% } %>
            </div>
            <% if (pages >= 3) {%>
                <div class="homepage__pagination">
                    <% if (currentPage === 1) { %>
                        <a href="#" class="pagination__item disabled"><</a>
                        <a href="/?page=1" class="pagination__item active">1</a>
                        <a href="/?page=2" class="pagination__item active">2</a>
                        <a href="/?page=3" class="pagination__item active">3</a>
                        <a href="/?page=2" class="pagination__item active">></a>
                    <% } else if (currentPage === pages) { %>
                        <a href="<%= `/?page=${currentPage - 1}` %>" class="pagination__item active"><</a>
                        <a href="<%= `/?page=${currentPage - 2}` %>" class="pagination__item active"><%= currentPage - 2 %></a>
                        <a href="<%= `/?page=${currentPage - 1}` %>" class="pagination__item active"><%= currentPage - 1 %></a>
                        <a href="<%= `/?page=${currentPage}` %>" class="pagination__item"><%= currentPage %></a>
                        <a href="#" class="pagination__item disabled">></a>
                    <% } else { %>
                        <a href="<%= `/?page=${currentPage - 1}` %>" class="pagination__item active"><</a>
                        <a href="<%= `/?page=${currentPage - 1}` %>" class="pagination__item active"><%= currentPage - 1 %></a>
                        <a href="<%= `/?page=${currentPage}` %>" class="pagination__item active"><%= currentPage %></a>
                        <a href="<%= `/?page=${currentPage + 1}` %>" class="pagination__item active"><%= currentPage + 1 %></a>
                        <a href="<%= `/?page=${currentPage + 1}` %>" class="pagination__item active">></a>
                    <% } %>

                </div>
            <% } else if (pages == 2) { %>
                <div class="homepage__pagination">
                    <% if (currentPage === 1) { %>
                        <a href="#" class="pagination__item disabled"><</a>
                        <a href="/?page=1" class="pagination__item active">1</a>
                        <a href="/?page=2" class="pagination__item active">2</a>
                        <a href="/?page=2" class="pagination__item active">></a>
                    <% } else { %>
                        <a href="/?page=1" class="pagination__item active"><</a>
                        <a href="/?page=1" class="pagination__item active">1</a>
                        <a href="/?page=2" class="pagination__item active">2</a>
                        <a href="#" class="pagination__item disabled">></a>
                    <% } %>
                </div>
            <% } else { %>
                <div class="homepage__pagination">
                    <a href="/?page=1" class="pagination__item active">1</a>
                </div>
            <% } %>
    </body
</html>
